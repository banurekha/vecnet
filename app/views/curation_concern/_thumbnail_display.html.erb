<% concern = curation_concern.is_a?(Citation) ? curation_concern.generic_files.first : curation_concern -%>
<% unless concern.nil? -%>
<% image_text = case
                when concern.image?
                  %Q{<img src="#{download_path(concern)}" class="thumbnail"/>}
                when concern.pdf?
                  %Q{<img src="#{download_path(concern, {:datastream_id => 'thumbnail'})}" class="thumbnail" />}
                else
                  %Q{<img src="/assets/default.png" alt="No preview available" class="thumbnail" />}
                end -%>
  <%= link_to raw(image_text), download_path(concern) %>
<% end -%>
