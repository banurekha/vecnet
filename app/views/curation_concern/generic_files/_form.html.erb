<%= simple_form_for [:curation_concern, curation_concern] do |f| %>
  <% if f.error_notification -%>
    <div class="alert alert-error fade in">
      <strong>Wait don't go!</strong> There was a problem with your submission. Please review the errors below:
      <a class="close" data-dismiss="alert" href="#">&times;</a>
    </div>
  <% end -%>

  <%= accordion(accordion_id: 'accordion') do |container| %>

    <%= container.pane("Required Information", class: 'required') do %>
      <fieldset class="required">
        <legend>These are the required information </legend>
        <%= f.input :title,
                    label: get_label(:title),
                    hint:metadata_help('title'),
                    input_html: { class: 'input-xxlarge'}
        %>
        <%= f.input :resource_type,
                    :collection => Sufia::Engine.config.resource_types.keys,
                    label:get_label(:resource_type),
                    hint:metadata_help('resource_type'),
                    :input_html => { :size=>7, :multiple => true }%>
        <%= f.input :creator,
                    label:get_label(:creator),
                    hint: metadata_help('creator'),
                    as: :multi_value,
                    input_html: { class: 'input-xlarge' } %>
        <%= f.input :tag,
                    label:get_label(:tag),
                    hint:metadata_help('tag'),
                    as: :multi_value,
                    input_html: { class: 'input-xlarge' } %>
      </fieldset>
      <%= render '/curation_concern/content_license', f: f %>
      <%=render "/curation_concern/permission", curation_concern: curation_concern, f: f %>
    <% end %>

    <%= container.pane("Additional Information and Metadata", class: 'optional prompt') do %>
      <fieldset class="optional prompt">
        <legend>Any additional information is optional, but helpful for others looking to find your work.</legend>
        <%= f.input :description,
                    input_html: {
                            class: 'input-xxlarge',
                            rows: '9'
                    },
                    as: :text,
                    label: get_label(:description),
                    hint: metadata_help('description')
        %>
        <%= f.input :contributor,
                    as: :multi_value,
                    input_html: { class: 'input-xlarge', multiple: 'multiple' },
                    label: get_label(:contributor),
                    hint: metadata_help('contributor')
        %>
        <%= f.input :subject,
                    as: :multi_value,
                    input_html: { class: 'input-xlarge', multiple: 'multiple' },
                    label: get_label(:subject),
                    hint: metadata_help('subject')
        %>
        <%= f.input :language,
                    as: :multi_value,
                    input_html: { class: 'input-xlarge', multiple: 'multiple'},
                    hint: metadata_help('language'),
                    label: get_label(:language)
        %>
        <%= f.input :publisher,
                    as: :multi_value,
                    input_html: { class: 'input-xlarge', multiple: 'multiple' },
                    label: get_label(:publisher),
                    hint: metadata_help('publisher')
        %>
        <%= f.input :based_near,
                    hint: metadata_help('based_near'),
                    label:get_label(:based_near),
                    as: :multi_value,
                    input_html: { class: 'input-xlarge', multiple: 'multiple' } %>
        <%= render "spatial", curation_concern: curation_concern, f: f %>
        <%= render "temporal", curation_concern: curation_concern, f: f %>
      </fieldset>
    <% end %>

    <%= container.pane("Files") do %>
      <fieldset>
        <% if curation_concern.persisted? %>
          <legend>
            Upload New Version
            <small>Upload a new version from your computer.</small>
          </legend>
        <% else %>
        <% end %>

        <%= f.input :file,
                    as: :file,
                    label: "Upload Files",
                    hint: "You can roll back to different version in show page"
        %>
      </fieldset>
    <% end %>

  <% end %>

  <div class="row">
    <div class="span12 form-actions">
      <%= button_tag(type: 'submit', class: "btn btn-primary") do %>
        <i class="icon-save"></i> Save
      <% end %>
      <%= link_to 'Cancel', dashboard_index_path, class: 'btn btn-link' %>
    </div>
  </div>

<% end %>
